{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst refs = {\n    feedbackForm: document.querySelector('.feedback-form'),\n}\nrefs.userEmail = refs.feedbackForm.elements.email;\nrefs.userMessage = refs.feedbackForm.elements.message;\nconst formData = {\n    email: '',\n    message: '',\n}\n\n\nrefs.feedbackForm.addEventListener('submit', submitHandler)\nrefs.feedbackForm.addEventListener('input', inputHandler)\n\nfunction inputHandler(event) {\n    formData.email = refs.userEmail.value.trim();\n    formData.message = refs.userMessage.value.trim();\n\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction submitHandler(event) {\n    event.preventDefault();\n\n    if (!refs.userEmail.value || !refs.userMessage.value) {\n        return alert('Fill please all fields');\n    }\n\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n\n    formData.email = '';\n    formData.message = '';\n\n    refs.feedbackForm.reset();\n}\n\nif (localStorage.getItem(LOCAL_STORAGE_KEY) !== null) {\n    const parsedData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n\n    refs.userEmail.value = parsedData.email;\n    refs.userMessage.value = parsedData.message;\n\n    formData.email = parsedData.email;\n    formData.message = parsedData.message;\n}"],"names":["LOCAL_STORAGE_KEY","refs","formData","submitHandler","inputHandler","event","parsedData"],"mappings":"wFAAA,MAAMA,EAAoB,sBACpBC,EAAO,CACT,aAAc,SAAS,cAAc,gBAAgB,CACzD,EACAA,EAAK,UAAYA,EAAK,aAAa,SAAS,MAC5CA,EAAK,YAAcA,EAAK,aAAa,SAAS,QAC9C,MAAMC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAGAD,EAAK,aAAa,iBAAiB,SAAUE,CAAa,EAC1DF,EAAK,aAAa,iBAAiB,QAASG,CAAY,EAExD,SAASA,EAAaC,EAAO,CACzBH,EAAS,MAAQD,EAAK,UAAU,MAAM,KAAI,EAC1CC,EAAS,QAAUD,EAAK,YAAY,MAAM,KAAI,EAE9C,aAAa,QAAQD,EAAmB,KAAK,UAAUE,CAAQ,CAAC,CACpE,CAEA,SAASC,EAAcE,EAAO,CAG1B,GAFAA,EAAM,eAAc,EAEhB,CAACJ,EAAK,UAAU,OAAS,CAACA,EAAK,YAAY,MAC3C,OAAO,MAAM,wBAAwB,EAGzC,aAAa,WAAWD,CAAiB,EAEzCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBD,EAAK,aAAa,OACtB,CAEA,GAAI,aAAa,QAAQD,CAAiB,IAAM,KAAM,CAClD,MAAMM,EAAa,KAAK,MAAM,aAAa,QAAQN,CAAiB,CAAC,EAErEC,EAAK,UAAU,MAAQK,EAAW,MAClCL,EAAK,YAAY,MAAQK,EAAW,QAEpCJ,EAAS,MAAQI,EAAW,MAC5BJ,EAAS,QAAUI,EAAW,OAClC"}