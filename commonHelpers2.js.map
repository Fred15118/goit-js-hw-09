{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LOCAL_STORAGE_KEY = 'feedback-form-state';\nconst refs = {\n    feedbackForm: document.querySelector('.feedback-form'),\n}\nrefs.userEmail = refs.feedbackForm.elements.email;\nrefs.userMessage = refs.feedbackForm.elements.message;\nconst formData = {\n    email: '',\n    message: '',\n}\n\n\nrefs.feedbackForm.addEventListener('submit', submitHandler)\nrefs.feedbackForm.addEventListener('input', inputHandler)\n\nfunction inputHandler(event) {\n    const changedInputName = event.target.name;\n    const newValue = event.target.value;\n\n    formData[changedInputName] = newValue;\n\n    localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(formData))\n}\n\nfunction submitHandler(event) {\n    event.preventDefault();\n\n    formData.email = formData.email?.trim();\n    formData.message = formData.message?.trim();\n\n    if (!formData.email || !formData.message) {\n        return alert('Fill please all fields');\n    }\n    console.log(formData);\n\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n\n    formData.email = '';\n    formData.message = '';\n\n    refs.feedbackForm.reset();\n}\n\nif (localStorage.getItem(LOCAL_STORAGE_KEY) !== null) {\n    const parsedData = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY));\n\n    refs.userEmail.value = parsedData.email;\n    refs.userMessage.value = parsedData.message;\n\n    formData.email = parsedData.email;\n    formData.message = parsedData.message;\n}"],"names":["LOCAL_STORAGE_KEY","refs","formData","submitHandler","inputHandler","event","changedInputName","newValue","_a","_b","parsedData"],"mappings":"wFAAA,MAAMA,EAAoB,sBACpBC,EAAO,CACT,aAAc,SAAS,cAAc,gBAAgB,CACzD,EACAA,EAAK,UAAYA,EAAK,aAAa,SAAS,MAC5CA,EAAK,YAAcA,EAAK,aAAa,SAAS,QAC9C,MAAMC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAGAD,EAAK,aAAa,iBAAiB,SAAUE,CAAa,EAC1DF,EAAK,aAAa,iBAAiB,QAASG,CAAY,EAExD,SAASA,EAAaC,EAAO,CACzB,MAAMC,EAAmBD,EAAM,OAAO,KAChCE,EAAWF,EAAM,OAAO,MAE9BH,EAASI,CAAgB,EAAIC,EAE7B,aAAa,QAAQP,EAAmB,KAAK,UAAUE,CAAQ,CAAC,CACpE,CAEA,SAASC,EAAcE,EAAO,SAM1B,GALAA,EAAM,eAAc,EAEpBH,EAAS,OAAQM,EAAAN,EAAS,QAAT,YAAAM,EAAgB,OACjCN,EAAS,SAAUO,EAAAP,EAAS,UAAT,YAAAO,EAAkB,OAEjC,CAACP,EAAS,OAAS,CAACA,EAAS,QAC7B,OAAO,MAAM,wBAAwB,EAEzC,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAWF,CAAiB,EAEzCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAEnBD,EAAK,aAAa,OACtB,CAEA,GAAI,aAAa,QAAQD,CAAiB,IAAM,KAAM,CAClD,MAAMU,EAAa,KAAK,MAAM,aAAa,QAAQV,CAAiB,CAAC,EAErEC,EAAK,UAAU,MAAQS,EAAW,MAClCT,EAAK,YAAY,MAAQS,EAAW,QAEpCR,EAAS,MAAQQ,EAAW,MAC5BR,EAAS,QAAUQ,EAAW,OAClC"}